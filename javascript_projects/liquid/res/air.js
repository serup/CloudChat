	
	/*
		Copyright (c) 2010-2013 Liquid Working Group. All Rights Reserved.
		Available on MIT license (see: http://www.jsliquid.com/license.html)
	*/
	
	(jsl={}).air=function(B){try{var v=runtime.flash;var L=runtime.flash.filesystem;var J;var r=function(){return J?J+"":""};var y=function(){try{var Q,P,R;J=null;Q=L.File.applicationStorageDirectory.resolvePath("liquid/storage/tbl.i");if(Q.exists){P=new L.FileStream;P.open(Q,L.FileMode.READ);R=P.readUTFBytes(P.bytesAvailable);P.close()}return R}catch(S){J=S}};var F=function(Q){try{var R,P;J=null;R=L.File.applicationStorageDirectory.resolvePath("liquid/storage/tbl.i");P=new L.FileStream;P.open(R,L.FileMode.WRITE);P.writeUTFBytes(Q);P.close()}catch(S){J=S}};var w=function(T){try{var R,P,Q;J=null;R=L.File.applicationStorageDirectory.resolvePath("liquid/storage/"+T+".s");if(R.exists){P=new L.FileStream;P.open(R,L.FileMode.READ);Q=P.readUTFBytes(P.bytesAvailable);P.close()}return Q}catch(S){J=S}};var z=function(T,Q){try{var R,P;J=null;R=L.File.applicationStorageDirectory.resolvePath("liquid/storage/"+T+".s");P=new L.FileStream;P.open(R,L.FileMode.WRITE);P.writeUTFBytes(Q);P.close()}catch(S){J=S}};var K=function(Q){try{J=null;L.File.applicationStorageDirectory.resolvePath("liquid/storage/"+Q+".s").deleteFile()}catch(P){J=P}};var b=function(){try{var T,P;J=null;T=L.File.applicationStorageDirectory.resolvePath("liquid/storage");P=T.getDirectoryListing();for(var R=0,Q=P.length;R<Q;R++){if(P[R].name.slice(-2)===".s"){P[R].deleteFile()}}}catch(S){J=S}};var o=function(S){try{var Q,P;J=null;Q=new L.File(S);P=new L.FileStream;P.open(Q,L.FileMode.WRITE);P.close()}catch(R){J=R}};var E=function(R){try{var P;J=null;P=new L.File;P.nativePath=R;P.deleteFile()}catch(Q){J=Q}};var D=function(S,R){try{var P,T;J=null;P=new L.File;T=new L.File;P.nativePath=S;T.nativePath=R;P.moveTo(T)}catch(Q){J=Q}};var j=function(S){try{var Q,P;J=null;Q=new L.File;P=0;Q.nativePath=S;if(Q.exists){P=Q.isDirectory?2:1}return P}catch(R){J=R}};var I=function(R){try{var P;J=null;P=new L.File;P.nativePath=R;return P.size}catch(Q){J=Q}};var f=function(ac,S,R){try{var X,V,ab,Z,aa,T,P,Q,U,W;J=null;X=new L.File;V=new L.FileStream;Z=new v.utils.ByteArray;X.nativePath=ac;V.open(X,L.FileMode.READ);V.position=S;V.readBytes(Z,0,R);V.close();P=String.fromCharCode(0);U=Z.length;ab=[];Q=0;aa=0;while(U){W=U>=1000?1000:U;ab[aa]=Z.readMultiByte(W,"iso-8859-1");T=ab[aa++].length;if(T<W){U-=T+1;U=U<0?0:U;Q+=T+1;Z.position=Q;ab[aa++]=P}else{U-=T;Q+=T}}return ab.join("")}catch(Y){J=Y}};var p=function(X,P,R){try{var T,S,W,V,Q;J=null;T=new L.File;S=new L.FileStream;T.nativePath=X;S.open(T,L.FileMode.UPDATE);S.position=P;W=R.split(String.fromCharCode(0));for(V=0,Q=W.length;V<Q;V++){S.writeMultiByte(W[V],"iso-8859-1");if(V<Q-1){S.writeByte(0)}}S.close()}catch(U){J=U}};var i=function(T,S){try{var Q,P,U;J=null;Q=new L.File;P=new L.FileStream;U=new v.utils.ByteArray;Q.nativePath=S;P.open(Q,L.FileMode.READ);P.readBytes(U);P.close();Q.nativePath=T;P.open(Q,L.FileMode.APPEND);P.writeBytes(U);P.close()}catch(R){J=R}};var G=function(S,T){try{var Q,P;J=null;Q=new L.File;P=new L.FileStream;Q.nativePath=S;P.open(Q,L.FileMode.UPDATE);P.position=T;P.truncate();P.close()}catch(R){J=R}};var A=function(S,R){try{var P,T;J=null;P=new L.File;T=new L.File;P.nativePath=S;T.nativePath=R;P.copyTo(T)}catch(Q){J=Q}};var O=D;var l=function(){try{J=null;return L.File.applicationDirectory.nativePath}catch(P){J=P}};var k=function(R){try{var P;J=null;P=new L.File;P.nativePath=R;P.createDirectory()}catch(Q){J=Q}};var u=function(R){try{var P;J=null;P=new L.File;P.nativePath=R;P.deleteDirectory(true)}catch(Q){J=Q}};var a=function(U){try{var S,R;J=null;S=new L.File;S.nativePath=U;R=S.getDirectoryListing();for(var Q=0,P=R.length;Q<P;Q++){R[Q]=R[Q].name}R.sort();return R}catch(T){J=T}};var m=function(S){try{var Q,P;J=null;Q=new L.File;Q.nativePath=S;P=Q.getDirectoryListing();return !P.length}catch(R){J=R}};var x=A;var g=j;var s=D;var N=D;var n={};var h={};var H=function(R){try{var P;if(!n[R]){n[R]=new runtime.flash.data.SQLConnection;P=new L.File;P.nativePath=R;n[R].open(P);h[R]=new runtime.flash.data.SQLStatement;h[R].sqlConnection=n[R]}return n[R]}catch(Q){J=Q}};var C=function(Q){try{H(Q)}catch(P){J=P}};var d=function(R){try{var P;if(n[R]){n[R].close();delete n[R];delete h[R]}P=new L.File;P.nativePath=R;P.exists&&P.deleteFile()}catch(Q){J=Q}};var t=function(X,V){try{var S,P,R,W,U;S=H(X);S.loadSchema(runtime.flash.data.SQLTableSchema,V);P=S.getSchemaResult().tables[0];U=[];P.sql.replace(/('(?:''|[^']+)*')|(?:[\s\n\r]DEFAULT[\s\n\r]*((?:X'[^']*')|(?:'(?:''|[^']+)*')|[^,)]+))/gi,function(Z,Y,e){if(e){U.push(e)}return""});R=[];P=P.columns;for(var T=0;T<P.length;T++){R.push(P[T].name,P[T].dataType,P[T].primaryKey,U[T])}return R}catch(Q){J=Q}};var q=function(T,Q){try{var R,P,U;if(!Q&&n[T]){P=true}else{R=new L.File;R.nativePath=T;P=false;if(R.exists&&!R.isDirectory){try{U=H(T);if(Q){h[T].text="SELECT 1 FROM "+Q+" LIMIT 1";h[T].execute()}P=true}catch(S){}}}return P}catch(S){J=S}};var c=function(Z,U){try{var W,Y,P,R,V,Q,X,S;W=H(Z);Y=h[Z];V=U;if(V.search(/;|BEGIN|COMMIT|ATTACH|DETACH/i)!==-1){V=V.slice(-1)===";"?V:V+";";R=0;V.replace(/(;)|('(?:''|[^']+)*')/g,function(ab,aa,e,ac){if(aa){Q=V.slice(R,ac);if(Q.length>1){if(Q.toLowerCase()==="begin"){W.begin()}else{if(Q.toLowerCase()==="commit"){W.commit()}else{if(Q.match(/^[\s\n\r]*attach/i)){X=/^[\s\n\r]*attach[\s\n\r]+database[\s\n\r]+('[^\s\n\r]+')[\s\n\r]*(?:as[\s\n\r]+([^\s\n\r]+)[\s\n\r]*)?$/i;P=Q.match(X);/*!*/if(!P){throw jsl.NativeError("e.db.SQLSyntaxError",[Q])}/*!*/S=new L.File;S.nativePath=l()+"/"+P[1].slice(1,-1);W.attach(P[2],S)}else{if(Q.match(/^[\s\n\r]*detach/i)){X=/^[\s\n\r]*detach[\s\n\r]+database[\s\n\r]+([^\s\n\r]+)[\s\n\r]*$/i;/*!*/if(!Q.match(X)){throw jsl.NativeError("e.db.SQLSyntaxError",[Q])}/*!*/W.detach(Q.match(X)[1])}else{Y.text=Q;Y.execute()}}}}}R=ac+1}return""})}else{Y.text=V;Y.execute()}return Y.getResult().data}catch(T){J=T}};document.getElementById(B||"sandbox").contentWindow.parentSandboxBridge={__signature:"A98UY35UT46R76K7",__version:"0.82",trace:runtime.trace,error:r,st_read_table:y,st_save_table:F,st_save:z,st_read:w,st_remove:K,st_clear:b,f_create:o,f_remove:E,f_rename:D,f_exists:j,f_size:I,f_read:f,f_write:p,f_add:i,f_truncate:G,f_move:O,f_copy:A,d_cwd:l,d_create:k,d_remove:u,d_read:a,d_rename:s,d_empty:m,d_exists:g,d_move:N,d_copy:x,db_create:C,db_remove:d,db_metadata:t,db_exists:q,db_query:c}}catch(M){throw"jsl.air() - "+M}};