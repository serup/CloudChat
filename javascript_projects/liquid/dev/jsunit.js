	
	/*
		Copyright (c) 2010-2013 Liquid Working Group. All Rights Reserved.
		Available on MIT license (see: http://www.jsliquid.com/license.html)
	*/
	
	jsl.__ploads.jsunit='try{jsl}catch(e){throw Error("liquid(error) >> [JsUnit] module not loaded - cause: jsl core not found")}if(!jsl||jsl.__magic!=="J345NN48H756PQ56"){throw Error("liquid(error) >> [JsUnit] module not loaded - cause: jsl core not found (bad magic number)")}if(!jsl.__ready){throw Error("liquid(error) >> [JsUnit] module not loaded - cause: previous jsl core error")}if(jsl.__devs.jsunit){jsl.console.warn("[JsUnit] module already loaded")}if(!jsl.__devs.jsunit){jsl.__devs.push("jsunit");jsl.__devs.jsunit="0.82";if(jsl.__devs.jsunit!==jsl.__version){throw jsl.ConfigError("BadVersion",["JsUnit module",jsl.__devs.jsunit,jsl.__version])}jsl.JsUnit=(function(){try{var a;jsl.require("dev");a=new jsl.Module("jsl.JsUnit");a.__gapi=jsl.__Dev.gapi;a.__sapi=jsl.__Dev.sapi;a.__ds=[];a.__ss={};a.__cmp=false;a.__as={};a.__obj={};a.__e=new jsl.Event;a.__cs=null;a.__init=false;a.__st=0;a.__ai=-2;a.__tsk=false;a.__ra=false;a.__id=1;a.__i=0;a.__ls=null;a.__tid=null;a.__rv=[];a.addOption("connection");a.addOption("connection.type",{dvalue:"http",setter:function(c,d,f){/*!*/jsl.validate(c,"s+(http,server)",f);/*!*/return c+""}});a.addOption("connection.url",{dvalue:jsl.getInfo("app.url")+"/report/",setter:function(c,d,f){/*!*/jsl.validate(c,"url+",f);/*!*/return c+""}});a.addOption("execution");a.addOption("execution.stop_on_fail",{dvalue:false,setter:function(c,d,f){/*!*/jsl.validate(c,"b",f);/*!*/return c.valueOf()}});a.addOption("execution.stop_on_exception",{dvalue:true,setter:function(c,d,f){/*!*/jsl.validate(c,"b",f);/*!*/return c.valueOf()}});a.addOption("execution.time_filter",{dvalue:0,setter:function(c,d,f){/*!*/jsl.validate(c,"I+",f);/*!*/return +c}});a.addEvents("beforeStart","beforeRun","beforeComplete","beforePause","beforeResume","beforeStop","beforeError");a.addEvents("start","run","complete","pause","resume","stop","error");a.addEvents("beforeSave","beforeSuite","beforeUnit","beforeTest","beforeAssert");a.addEvents("save","suite","unit","test","assert");return a}catch(b){jsl.throwError(b,"JsUnit.start")}})();jsl.setMessage("sys.jsunit.EnterReportPath","Enter the path where to save the report:");jsl.setMessage("sys.jsunit.SaveError","Error on save caused by $");jsl.JsUnit.normalizeText=function(a){return a.replace(/\\r\\n/g,"\\\\r\\\\n").replace(/\\r/g,"\\\\r").replace(/\\n/g,"\\\\n").replace(/\\t/g,"\\\\t")};jsl.JsUnit.normalizeParam=function(f){if(jsl.isArray(f)){for(var c=0,b=f.length,d="[";c<b;c++){if(jsl.isArray(f[c])){d+="[..],"}else{if(jsl.isString(f[c])){d+=\'"\'+f[c]+\'"\'}else{if(jsl.isObject(f[c])){d+="{..},"}else{d+=f[c]+","}}}}f=(d.charAt(d.length-1)===","?d.slice(0,-1):d)+"]"}else{if(jsl.isString(f)){f=\'"\'+f+\'"\'}else{if(jsl.isObject(f)){f="{..}"}else{f=f+""}}}return f.length>60?f.slice(0,58)+"..":f};jsl.JsUnit.start=function(){try{var b,d,c,a;/*!*/if(arguments.length){throw jsl.ParamError()}if(this.__init){throw jsl.MisuseError("AlreadyCalled")}if(this.__ra){throw jsl.MisuseError("OperationDenied:run")}if(!this.__ls){throw jsl.MisuseError("NotDefined:suite")}/*!*/b=[];d={};for(var f in this.__ss){if(this.__ss.hasOwnProperty(f)){b.push(f)}}d.ctype=jsl.JsUnit.getOption("connection.type");d.curl=jsl.JsUnit.getOption("connection.url");d.stop_on_fail=jsl.JsUnit.getOption("execution.stop_on_fail");d.stop_on_exception=jsl.JsUnit.getOption("execution.stop_on_exception");d.time_filter=jsl.JsUnit.getOption("execution.time_filter");c=this.__e;c.suites=b;c.status="idle";c.gtime=0;c.params=d;a=this.throwEvent("beforeStart",c);this.__init=true;this.__cmp=false;if(!a.stop_sequence){this.throwEvent("start",c)}}catch(c){jsl.throwError(c,this,arguments)}};jsl.JsUnit.save=function(){try{var j,i,a,b,f,c,g,d,h;g=jsl.getInfo("system.type")==="cli";/*!*/if(arguments.length){throw jsl.ParamError()}if(!g&&!this.__cmp){throw jsl.MisuseError("OperationDenied:save")}/*!*/i=this;h=i.__e;j=i.__gapi;c=(this._cb&&this._cb.value!=="All suites"?this._cb.value+".":"")+jsl.getInfo("system.id")+jsl.getInfo("system.version")+(jsl.getOption("liquid.mode")==="debug"?"d":"")+".txt";f=function(s){var q,t,m,p,k,n,x,o,u;if(!s||s.ok){u=i.throwEvent("beforeSave",h);d=new Date;d=d.getFullYear()+"/"+("00"+(d.getMonth()+1)).slice(-2)+"/"+("00"+d.getDate()).slice(-2);q=" -------------------------------------------------------------------------------------------------------------------\\n";q+="  DATE:    "+d+"\\n";q+="\\n";q+="  SYSTEM:  "+jsl.getInfo("system.id")+"\\n";q+="  VERSION: "+jsl.getInfo("system.versionId")+"\\n";q+="  LIQUID:  "+jsl.getInfo("liquid.version")+"\\n";q+="  MODE:    "+jsl.getOption("liquid.mode")+"\\n";q+="\\n";q+="  TESTS:   "+h.n+"\\n";q+="  PASSED:  "+h.passed+"\\n";q+="  WARNING: "+h.warning+"\\n";q+="  FAILED:  "+h.failed+"\\n";q+="  TIME:    "+(h.gtime/1000).toFixed(3)+"s\\n";q+="  SLOWER:  "+h.assert_slower+"ms\\n";q+=" -------------------------------------------------------------------------------------------------------------------\\n";q+="\\n";q=[q];o=1;for(t=0,m,p,k=h.result,n=h.result.length;t<n;t++){p=k[t];if(!p.type){q[o++]="\\n";q[o++]=" -----------------------\\n";q[o++]=" Suite: "+p.id+"\\n";q[o++]=" -----------------------\\n"}else{if(p.type===1){q[o++]="\\n";q[o++]=" -----------------------\\n";q[o++]=" Unit: "+p.id+"\\n";q[o++]=" -----------------------\\n"}else{if(p.type===2){q[o++]="\\n";q[o++]=" Test: "+p.id+"\\n";q[o++]=" -----------------------\\n"}else{if(p.type===3){if(!p.error){q[o++]=" Task:         [PASSED] - time: "+p.time+"\\n"}else{q[o++]=" Task:         [ERROR]\\n\\n "+(p.error+"").replace(/\\n/g,"\\n ")}}else{if(p.type===4){if(p.status>0){x="[PASSED]"}else{if(p.status){x="[FAILED]"}else{if(h.error&&t==n-1){x="[ERROR]"}else{x="[WARNING]"}}}m=("    "+p.id).slice(-5);q[o++]=" Assert: "+m+" "+x+" - time: "+p.time+(p.message?" - "+p.message.replace(/\\n/g," - "):"")+"\\n";if(h.error&&t==n-1){q[o++]="\\n ERROR:\\n"+(h.error+"").replace(/(^|\\n)/g,"$1 ")}}}}}}}h.report=q;h.sid=c;q=q.join("");b=jsl.JsUnit.getOption("connection.url")+(s&&s.value||c);try{if(i.getOption("connection.type")==="http"){jsl.service("put::"+b,q)}else{jsl.service("post::"+b,{data:{op:"save",data:q}})}}catch(w){if(g){throw jsl.ConfigError("sys.jsunit.SaveError",[w+""])}else{j.alert(jsl.CompileMessage("sys.jsunit.SaveError",w+""))}}if(!u.stop_sequence){i.throwEvent("save",h)}}};if(g){f()}else{j.prompt.value=c,j.prompt("sys.jsunit.EnterReportPath",/^[\\da-zA-Z_\\.\\-\\\\\\/]+$/,f)}}catch(h){jsl.throwError(h,this,arguments)}};jsl.JsUnit.run=function(g){try{var h,l,c,d,f,b,a,i,j;/*!*/if(this.__ra){throw jsl.MisuseError("OperationDenied:run")}if(arguments.length>1){throw jsl.ParamError()}if(arguments.length){jsl.validate(g,"s+","suite")}if(arguments.length&&!this.__ss[g]){throw jsl.ParamError("NotFound:suite")}/*!*/if(!this.__init){this.init()}h=this.__e;if(!this.__st||(g&&g!=this.__cs)){if(this.__st){this.stop()}this.__i=g?this.__ss[g].idx:0;this.__cs=g;this.__st=2;this.__rv=[];this.__ai=-2;l=1;h.suite_id=g;h.gtime=0;h.passed=0;h.failed=0;h.warning=0;h.n=0;h.result=[];h.assert_slower=0;this.__v=this.throwEvent("beforeRun",h)}else{if(this.__st===1){l=2;this.__st=2;this.__v=this.throwEvent("beforeResume",h)}}j=this.__v;c=new Date;d=true;while(this.__st===2&&(new Date-c)<25){f=this.__ds[this.__i];this.__ds[this.__i]=null;this.__i++;if(!f.type){h.suite_id=f.id;if(!j.stop_sequence){j=this.throwEvent("beforeSuite",h)}this.__rv.push({type:f.type,id:f.id});this.__id=1;if(!j.stop_sequence){j=this.throwEvent("suite",h)}}else{if(f.type===1){h.unit_id=f.id;if(!j.stop_sequence){j=this.throwEvent("beforeUnit",h)}this.__rv.push({type:f.type,id:f.id});this.__id=1;if(!j.stop_sequence){j=this.throwEvent("unit",h)}}else{if(f.type===2){h.test_id=f.id;if(!j.stop_sequence){j=this.throwEvent("beforeTest",h)}this.__rv.push({type:f.type,id:f.id});this.__id=1;if(!j.stop_sequence){j=this.throwEvent("test",h)}}else{if(f.type===3){this.__tsk=true;this.__ai=f.f.__executed?-1:this.__i;try{i=new Date;f.f.call(this.__obj,h);i=new Date-i;this.__rv.push({type:3,id:"task",time:i})}catch(k){h.error=jsl.Error(k).trace("[task execution]");h.result=this.__rv;d=null;this.__rv.push({type:3,id:"task",time:0,error:h.error});j=this.throwEvent("beforeError",h);if(!h.params||h.params.stop_on_exception){this.stop()}if(!j.stop_sequence){this.throwEvent("error",h)}if(!h.params||h.params.stop_on_exception){break}else{d=true}}finally{f.f.__executed=true;this.__tsk=false;this.__ai=-2}}else{h.assert_id=this.__id++;h.assert_name=f.name;h.assert_params=f.params.slice();h.assert_result=null;h.assert_time=null;h.error=null;if(!j.stop_sequence){j=this.throwEvent("beforeAssert",h)}a={};this.__ra=true;i=new Date;try{this.__as[f.name].apply(this.__obj,f.params.concat(a))}catch(k){h.error=jsl.Error(k).trace("[assert execution]")}i=new Date-i;this.__ra=false;/*!*/if(!h.error){try{jsl.validate(a.result,"i[-1,2]","result")}catch(k){h.error=jsl.Error(k).trace("[assert return value]")}}/*!*/if(f.name!=="err"&&i>=h.assert_slower){h.assert_slower=i}h.gtime+=h.error?0:i;h.assert_time=i;h.assert_result=a.result;h.assert_msg=a.msg;if(h.error){h.assert_result=-2}else{if(!a.result){h.warning++}else{if(a.result>0){h.passed++}else{h.failed++}}h.n=h.passed+h.failed+h.warning}this.__rv.push({type:4,id:this.__id-1,name:f.name,status:a.result,time:i,message:a.msg||""});if(!j.stop_sequence){j=this.throwEvent("assert",h)}if(h.error){h.result=this.__rv;j=this.throwEvent("beforeError",h);if(!h.params||h.params.stop_on_exception){this.stop()}if(!j.stop_sequence){this.throwEvent("error",h)}d=null;if(!h.params||h.params.stop_on_exception){break}else{d=true}}else{if(a.result<0&&h.params&&h.params.stop_on_fail){d=false;break}}}}}}if(this.__ai>=0){break}else{if(!this.__ds[this.__i]||(this.__cs&&!this.__ds[this.__i].type)){d=false;break}}}if(l){h.status="run";if(!j.stop_sequence){if(l===1){j=this.throwEvent("run",h)}else{j=this.throwEvent("resume",h)}}}if(d&&this.__ai===-2){this.__tid=jsl.delay(function(){jsl.JsUnit.run()},200)}else{if(d===false){if(!j.stop_sequence){j=this.throwEvent("beforeComplete",h)}this.stop();h.result=this.__rv;if(!j.stop_sequence){this.throwEvent("complete",h)}}}}catch(h){jsl.throwError(h,this,arguments)}};jsl.JsUnit.pause=function(){try{var a;/*!*/if(!this.__init){throw jsl.MisuseError("NotInitialized")}if(this.__ra){throw jsl.MisuseError("OperationDenied:pause")}if(arguments.length){throw jsl.ParamError()}/*!*/if(this.__st===2){a=this.throwEvent("beforePause",this.__e);jsl.removeTimer(this.__tid);this.__e.status="pause";this.__st=1;this.__tid=null;if(!a.stop_sequence){this.throwEvent("pause",this.__e)}}}catch(b){jsl.throwError(b,this,arguments)}};jsl.JsUnit.stop=function(){try{var a;/*!*/if(!this.__init){throw jsl.MisuseError("NotInitialized")}if(this.__ra){throw jsl.MisuseError("OperationDenied:stop")}if(arguments.length){throw jsl.ParamError()}/*!*/if(this.__st){a=this.throwEvent("beforeStop",this.__e);this.__tid&&jsl.removeTimer(this.__tid);this.__e.status="idle";this.__st=0;this.__tid=null;if(!a.stop_sequence){this.throwEvent("stop",this.__e)}}}catch(b){jsl.throwError(b,this,arguments)}};jsl.JsUnit.suite=function(d){try{var a,b=jsl.JsUnit;/*!*/if(b.__init){throw jsl.MisuseError("OperationDenied:suite")}if(b.__ra){throw jsl.MisuseError("OperationDenied:suite")}if(b.__ss[d]){throw jsl.ParamError("AlreadyDefined:id")}if(b.__tsk){throw jsl.MisuseError("OperationDenied:suite")}if(arguments.length!==1){throw jsl.ParamError()}jsl.validate(d,"s+","id");/*!*/a={type:0,id:d,idx:b.__ds.length};b.__ds.push(a);b.__ss[d]=a;b.__ls=true}catch(c){jsl.throwError(c,b,arguments)}};jsl.JsUnit.unit=function(c){try{var a=jsl.JsUnit;/*!*/if(a.__init){throw jsl.MisuseError("OperationDenied:unit")}if(a.__ra){throw jsl.MisuseError("OperationDenied:unit")}if(!a.__ls){throw jsl.MisuseError("NotDefined:suite")}if(arguments.length!==1){throw jsl.ParamError()}jsl.validate(c,"s+","id");/*!*/a.__ds.push({type:1,id:c})}catch(b){jsl.throwError(b,a,arguments)}};jsl.JsUnit.test=function(c){try{var a=jsl.JsUnit;/*!*/if(a.__init){throw jsl.MisuseError("OperationDenied:test")}if(a.__ra){throw jsl.MisuseError("OperationDenied:test")}if(!a.__ls){throw jsl.MisuseError("NotDefined:suite")}if(arguments.length!==1){throw jsl.ParamError()}jsl.validate(c,"s+","id");/*!*/a.__ds.push({type:2,id:c})}catch(b){jsl.throwError(b,a,arguments)}};jsl.JsUnit.tsk=function(b){try{var a=jsl.JsUnit;/*!*/if(a.__init){throw jsl.MisuseError("OperationDenied:task")}if(a.__ra){throw jsl.MisuseError("OperationDenied:task")}if(!a.__ls){throw jsl.MisuseError("NotDefined:suite")}if(a.__tsk){throw jsl.MisuseError("OperationDenied:task")}if(arguments.length!==1){throw jsl.ParamError()}jsl.validate(b,"f");/*!*/a.__ds.push({type:3,f:b})}catch(c){jsl.throwError(c,a,arguments)}};jsl.JsUnit.defineAssert=function(c,a){try{/*!*/if(this.__ra){throw jsl.MisuseError("OperationDenied:assert")}if(arguments.length!==2){throw jsl.ParamError()}jsl.validate(c,"s+","id");jsl.validate(a,"f","assert");if(this.__as[c]){throw jsl.ParamError("AlreadyDefiend:id")}if(this[c]){throw jsl.ParamError("OperationDenied:defineAsser")}/*!*/this.__as[c]=function(){a.apply(this,arguments)};this[c]=function(){var f,d;d=jsl.JsUnit;f=Array.prototype.slice.call(arguments);if(d.__ai>=0){d.__ds.splice(d.__ai++,0,{type:4,name:c,params:f});d.run()}else{if(d.__ai!==-1){d.__ds.push({type:4,name:c,params:f})}}}}catch(b){jsl.throwError(b,this,arguments)}};jsl.JsUnit.defineAssert("ass",function(c,b){var f,d,a;/*!*/if(arguments.length!==2){throw jsl.ParamError()}/*!*/f=jsl.isFunction(c)?c():c;d=f?1:-1;if(d<0){a="ass("+jsl.JsUnit.normalizeParam(f)+")"}b.result=d;b.msg=a});jsl.JsUnit.defineAssert("gre",function(h,g,b){var c,f,d,a;/*!*/if(arguments.length!==3){throw jsl.ParamError()}/*!*/f=jsl.isFunction(h)?h():h;d=jsl.isFunction(g)?g():g;c=f>d?1:-1;if(c<0){a=jsl.JsUnit.normalizeText("equ("+jsl.JsUnit.normalizeParam(f)+", "+jsl.JsUnit.normalizeParam(d)+")")}b.result=c;b.msg=a});jsl.JsUnit.defineAssert("geq",function(h,g,b){var c,f,d,a;/*!*/if(arguments.length!==3){throw jsl.ParamError()}/*!*/f=jsl.isFunction(h)?h():h;d=jsl.isFunction(g)?g():g;c=f>=d?1:-1;if(c<0){a=jsl.JsUnit.normalizeText("geq("+jsl.JsUnit.normalizeParam(f)+", "+jsl.JsUnit.normalizeParam(d)+")")}b.result=c;b.msg=a});jsl.JsUnit.defineAssert("lss",function(h,g,b){var c,f,d,a;/*!*/if(arguments.length!==3){throw jsl.ParamError()}/*!*/f=jsl.isFunction(h)?h():h;d=jsl.isFunction(g)?g():g;c=f<d?1:-1;if(c<0){a=jsl.JsUnit.normalizeText("lss("+jsl.JsUnit.normalizeParam(f)+", "+jsl.JsUnit.normalizeParam(d)+")")}b.result=c;b.msg=a});jsl.JsUnit.defineAssert("leq",function(h,g,b){var c,f,d,a;/*!*/if(arguments.length!==3){throw jsl.ParamError()}/*!*/f=jsl.isFunction(h)?h():h;d=jsl.isFunction(g)?g():g;c=f<=d?1:-1;if(c<0){a=jsl.JsUnit.normalizeText("leq("+jsl.JsUnit.normalizeParam(f)+", "+jsl.JsUnit.normalizeParam(d)+")")}b.result=c;b.msg=a});jsl.JsUnit.defineAssert("neq",function(h,g,b){var c,f,d,a;/*!*/if(arguments.length!==3){throw jsl.ParamError()}/*!*/f=jsl.isFunction(h)?h():h;d=jsl.isFunction(g)?g():g;c=f!==d?1:-1;if(c<0){a=jsl.JsUnit.normalizeText("neq("+jsl.JsUnit.normalizeParam(f)+", "+jsl.JsUnit.normalizeParam(d)+")")}b.result=c;b.msg=a});jsl.JsUnit.defineAssert("inf",function(b,a){/*!*/if(arguments.length!==2){throw jsl.ParamError()}/*!*/a.result=2;a.msg=jsl.JsUnit.normalizeText((jsl.isFunction(b)?b():b)+"")});jsl.JsUnit.defineAssert("war",function(c,g,b){var f,d,a;/*!*/if(arguments.length!==2&&arguments.length!==3){throw jsl.ParamError()}if(arguments.length===3){jsl.validate(g,"s+","msg")}/*!*/if(arguments.length===2){b=g;g=""}f=jsl.isFunction(c)?c():c;d=f?1:0;if(!d){if(arguments.length===3){a="war("+jsl.JsUnit.normalizeParam(f)+")"+(g?" - "+g:"")}else{a="war("+jsl.JsUnit.normalizeParam(f)+")"}a=jsl.JsUnit.normalizeText(a)}b.result=d;b.msg=a});jsl.JsUnit.defineAssert("chk",function(b,a){var d;/*!*/if(arguments.length!==2){throw jsl.ParamError()}jsl.validate(b,"f");/*!*/try{d=b();a.msg=d?jsl.JsUnit.normalizeText(d+""):null;a.result=1}catch(c){a.msg=c+"";a.result=-1}});jsl.JsUnit.defineAssert("equ",function(h,g,b){var c,f,d,a;/*!*/if(arguments.length!==3){throw jsl.ParamError()}/*!*/f=jsl.isFunction(h)?h():h;d=jsl.isFunction(g)?g():g;c=f==d?1:-1;if(c<0){a=jsl.JsUnit.normalizeText("equ("+jsl.JsUnit.normalizeParam(f)+", "+jsl.JsUnit.normalizeParam(d)+")")}b.result=c;b.msg=a});jsl.JsUnit.defineAssert("ide",function(h,g,b){var c,f,d,a;/*!*/if(arguments.length!==3){throw jsl.ParamError()}/*!*/f=jsl.isFunction(h)?h():h;d=jsl.isFunction(g)?g():g;c=f===d?1:-1;if(c<0){a=jsl.JsUnit.normalizeText("ide("+jsl.JsUnit.normalizeParam(f)+", "+jsl.JsUnit.normalizeParam(d)+")")}b.result=c;b.msg=a});jsl.JsUnit.defineAssert("err",function(c,b,a){/*!*/if(arguments.length!==2&&arguments.length!==3){throw jsl.ParamError()}jsl.validate(c,"f");if(arguments.length===3&&!jsl.isFunction(b)){throw jsl.ParamError("BadType:error:Function")}/*!*/if(arguments.length===2){a=b;b=jsl.ParamError}try{c();a.result=-1;a.msg="error not thrown"}catch(d){a.result=d.constructor===b?1:-1;if(a.result===-1){a.msg="error not matched: "+(jsl.Error(d)+"").replace(/\\n/g," - ")}else{a.msg="error message: "+jsl.Error(d).getMessage()}}});if(jsl.getInfo("system.type")!=="cli"){jsl.JsUnit.onStart=function(d){var f,c,a,b;f=this.__gapi;f.title("Liquid.JsUnit");c="Liquid: v."+jsl.getInfo("liquid.version")+" - Mode: "+jsl.getOption("liquid.mode")+" - Log: "+jsl.getOption("liquid.log");f.info(c);f.text("Execute: ");a=this._cb=f.combo(["All suites"].concat(d.suites));f.space(5);this._r=f.button("start",function(){if(f.value(a)==="All suites"){jsl.JsUnit.run()}else{jsl.JsUnit.run(f.value(a))}});f.space(5);this._p=f.button("pause",function(){jsl.JsUnit.pause()},true);this._p.disabled=true;f.space(5);this._s=f.button("stop",function(){jsl.JsUnit.stop()},true);this._s.disabled=true;f.space(5);this._sv=f.button("save",function(){jsl.JsUnit.save()},true);b="color:#444444;padding: 1px;padding-left: 8px;padding-right: 8px;border: 1px solid #555555;font-size:0.8em;margin-right: 2px;;display:inline-block;";f.space(8);this._ss=f.text("Status: idle",b);c="System: "+jsl.getInfo("system.id")+" v."+jsl.getInfo("system.versionId")+" "+jsl.getInfo("system.os");f.text(c,b);c="JavaScript: "+jsl.getInfo("javascript.version");f.text(c,b);this._gt=f.status("Time of execution: 0ms");this._st=f.status("Slower time: 0ms");this._st.t=0;this._nr=f.status("N: 0",true);this._wr=f.status("Warning: 0",true);this._fl=f.status("Failed: 0",true);this._pd=f.status("Passed: 0",true);this._b=f.body();f.draw()};jsl.JsUnit.onBeforeSuite=function(b){var c,a;c=this.__gapi;a="display:block;border-bottom: 1px solid #888888;background-color: #9db9cb;padding: 5px;padding-left: 4px;color: #444444;font-weight:bold;font-size:0.9em";c.text("\\u25A0\\u25A0\\u25A0 Suite: "+b.suite_id,a)};jsl.JsUnit.onBeforeUnit=function(b){var c,a;c=this.__gapi;a="display:block;border: 1px solid #888888;border-top: 0px;border-left:0px;background-color: #BFBFBF;padding: 5px;padding-left: 15px;color: #444444;font-weight: bold;font-size: 0.9em";c.text("\\u25A0\\u25A0 Unit: "+b.unit_id,a)};jsl.JsUnit.onBeforeTest=function(b){var c,a;c=this.__gapi;a="display:block;border: 1px solid #888888;border-top: 0px;border-left:0px;background-color: #E3E3E3;padding:5px;padding-left:30px;color: #444444;font-weight: bold;font-size: 0.9em;";c.text("\\u25A0 Test: "+b.test_id,a)};jsl.JsUnit.onBeforeRun=function(b){var c,a;this._cb.disabled=true;this._r.disabled=true;this._p.disabled=false;this._s.disabled=false;c=this.__gapi;c.inner(this._ss,"Status: run");c.inner(this._st,"Slower time: 0ms");c.inner(this._gt,"Time of execution: 0ms");c.inner(this._nr,"N: 0");c.inner(this._pd,"Passed: 0");c.inner(this._fl,"Failed: 0");c.inner(this._wr,"Warning: 0");c.style(this._pd,"color","#333333");c.style(this._fl,"color","#333333");c.style(this._wr,"color","#333333");a=c.childs(this._b);while(a.length){c.detach(a[0])}};jsl.JsUnit.onBeforeResume=function(a){this._cb.disabled=true;this._r.disabled=true;this._p.disabled=false;this._s.disabled=false;this.__gapi.inner(this._ss,"Status: run")};jsl.JsUnit.onPause=function(a){this._r.disabled=false;this._p.disabled=true;this.__gapi.inner(this._ss,"Status: pause")};jsl.JsUnit.onStop=function(a){this._cb.disabled=false;this._r.disabled=false;this._p.disabled=true;this._s.disabled=true;this.__gapi.inner(this._ss,"Status: idle")};jsl.JsUnit.onComplete=function(a){this.__cmp=true;this.__gapi.enable(this._sv)};jsl.JsUnit.onError=function(d){var f,c,b,a;f=this.__gapi;c=f.childs(this._b);if(c[c.length-1]&&c[c.length-1].error){f.style(c[c.length-1],"border-bottom","0px")}b="An error has occurred in the script:\\n";b+=("\\n"+d.error).replace(/\\n/g,"\\n  ");a="border: 1px solid #d34b50;background-color: #f0d2d8;color: #944241; padding: 10px;font-weight:bold;font-size: 0.8em;";f.inner(f.box(a),b);this._cb.disabled=false;this._r.disabled=false;this._p.disabled=true;this._s.disabled=true;f.inner(this._fl,"Failed: "+(d.failed+1));f.inner(this._nr,"N: "+(d.n+1));f.style(this._fl,"color","#944241")};jsl.JsUnit.onAssert=function(g){var i,h,b,a,c,f,d;i=this.__gapi;if(g.assert_result<=0||g.assert_result===2||g.assert_time>=g.params.time_filter){d="border: 1px solid #CCCCCC;border-top: 0px;background-color: #EEEEEE;padding: 2px;padding-left: 45px;color: #448245;font-weight: bold;font-size:0.8em;";h=i.box(d);d="display: inline-block;width: 100px;";b=i.text("Assert: "+g.assert_id,d);d="white-space: pre;font-size: 12px;font-family: monospace;background-color:#d0e8d0;border: 1px solid #428242;font-weight:bold;";a=i.text("",d);d="white-space: pre;font-size: 12px;font-family: monospace;";c=i.text("",d);i.attach(h,b);i.attach(h,a);i.attach(h,c);if(g.assert_result===2){i.style(h,"background-color","#cfdaf3");i.style(h,"color","#3161ce");i.style(a,"border","1px solid #3161ce");i.style(a,"background-color","#c0ceef");i.inner(a,"  INFO    ");i.inner(c," - "+g.assert_msg)}else{if(g.assert_result>0){i.inner(a,"  PASSED  ");i.inner(c," - time: "+this.__sapi.padl(g.assert_time,5)+"ms"+(g.assert_msg?" - "+g.assert_msg:""))}else{if(!g.assert_result){i.style(h,"background-color","#fff3bb");i.style(h,"color","#d66108");i.style(a,"border","1px solid #d66108");i.style(a,"background-color","#ffee9d");i.inner(a,"  WARNING ");i.inner(c," - time: "+this.__sapi.padl(g.assert_time,5)+"ms"+(g.assert_msg?" - "+g.assert_msg:""));i.inner(this._wr,"Warning: "+g.warning);i.style(this._wr,"color","#d66108")}else{i.style(h,"border","1px solid #d34b50");i.style(h,"background-color","#f0d2d8");i.style(h,"color","#944241");h.error=true;i.style(a,"border","1px solid #944142");i.style(a,"background-color","#f2bbcc");f=i.childs(this._b);if(f[f.length-2]&&f[f.length-2].error){i.style(f[f.length-2],"border-bottom","0px")}i.inner(a,g.assert_result===-2?"  ERROR   ":"  FAILED  ");if(g.assert_msg){if(g.assert_msg.length<70){i.inner(c," - "+g.assert_msg.replace(/\\n/g,""))}else{d="padding:10px;padding-left:45px;border:1px solid #d34b50;border-top:0px;background-color:#f0d2d8;color:#944241;";h=i.box(d);i.inner(h,g.assert_msg.replace(/\\n/g,"\\n  "));i.attach(this._b,h)}}i.inner(this._fl,"Failed: "+(g.assert_result!==-2?g.failed:g.failed+1));i.style(this._fl,"color","#944241")}}}}if(g.assert_result>0){i.inner(this._pd,"Passed: "+g.passed);i.style(this._pd,"color","#448245")}if(g.assert_result>=0){i.inner(this._st,"Slower time: "+g.assert_slower+"ms")}i.inner(this._gt,"Time of execution: "+g.gtime+"ms");i.inner(this._nr,"N: "+g.n)}}else{jsl.JsUnit.onStart=function(){try{var a;jsl.console("");jsl.console(" ------------------------------------------------------------------------");jsl.console(" Liquid.JsUnit");jsl.console(" ------------------------------------------------------------------------");a=" Liquid: v."+jsl.getInfo("liquid.version")+" - Mode: "+jsl.getOption("liquid.mode")+" - Log: "+jsl.getOption("liquid.log");jsl.console(a);jsl.console(" ------------------------------------------------------------------------");a=" System: "+jsl.getInfo("system.id")+" v."+jsl.getInfo("system.versionId")+" "+jsl.getInfo("system.os");jsl.console(a);jsl.console(" ------------------------------------------------------------------------");jsl.console("");jsl.console("");jsl.console("")}catch(b){jsl.throwError(b,this,arguments)}};jsl.JsUnit.onComplete=function(b){try{var a;jsl.console("");jsl.console("");jsl.console(" ------------------------------------------------------------------------");a=" Test completed:    total: "+b.n+", passed: ";a+=b.passed+", failed: "+b.failed+", warnings: "+b.warning;jsl.console.log(a);a=" Time of execution: "+b.gtime+"ms, Slower time: "+b.assert_slower;jsl.console.log(a);jsl.console(" ------------------------------------------------------------------------")}catch(b){jsl.throwError(b,this,arguments)}};jsl.JsUnit.onBeforeSuite=function(a){try{jsl.console(" ------------------------------------------------------------------------");jsl.console(" Suite: "+a.suite_id);jsl.console(" ------------------------------------------------------------------------")}catch(a){jsl.throwError(a,this,arguments)}};jsl.JsUnit.onBeforeUnit=function(a){try{jsl.console(" ------------------------------------------------------------------------");jsl.console(" Unit: "+a.unit_id);jsl.console(" ------------------------------------------------------------------------")}catch(a){jsl.throwError(a,this,arguments)}};jsl.JsUnit.onBeforeTest=function(a){try{jsl.console(" ------------------------------------------------------------------------");jsl.console(" Test: "+a.test_id);jsl.console(" ------------------------------------------------------------------------")}catch(a){jsl.throwError(a,this,arguments)}};jsl.JsUnit.onError=function(c){var b,a,d;jsl.console(" ################################################[");a=" An error has occurred in the script:\\n";a+=("\\n"+c.error).replace(/\\n/g,"\\n  ");jsl.console(a);jsl.console(" ]################################################")};jsl.JsUnit.onAssert=function(d){try{var b,f;if(d.assert_result===1&&d.assert_time<d.params.time_filter){return}f=d.assert_id+"";for(var c=f.length;c<5;c++){f+=" "}b="  Assert: "+f;if(d.assert_result===2){b+="-> [ INFO    ] - "+d.assert_msg}else{if(d.assert_result>0){b+="-> [ PASSED  ] - time: "+this.__sapi.padl(d.assert_time,5)+"ms"+(d.assert_msg?" - "+d.assert_msg:"")}else{if(!d.assert_result){b+="-> [ WARNING ] - time: "+this.__sapi.padl(d.assert_time,5)+"ms"+(d.assert_msg?" - "+d.assert_msg:"")}else{if(d.assert_result===-2){b+="-> [ ERROR   ]"}else{b+="-> [ FAILED  ]"}if(d.assert_msg){if(d.assert_msg.length<70){b+=" - "+d.assert_msg.replace(/\\n/g,"\\\\n")}else{jsl.console(b);b="  "+d.assert_msg.replace(/\\n/g,"\\n  ")+"\\n"}}}}}jsl.console(b)}catch(d){jsl.throwError(d,this,arguments)}}}};'